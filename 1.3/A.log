samuellb@eee:~/KTH/cpp/cprog11-lab1/1.3$ 
samuellb@eee:~/KTH/cpp/cprog11-lab1/1.3$ make vg-A
g++ -g -Wall A.cpp -o A.out
A.cpp: In function ‘int main()’:
A.cpp:26:23: warning: deprecated conversion from string constant to ‘char*’ [-Wwrite-strings]
valgrind --tool=memcheck --leak-check=yes ./A.out
==28301== Memcheck, a memory error detector
==28301== Copyright (C) 2002-2010, and GNU GPL'd, by Julian Seward et al.
==28301== Using Valgrind-3.6.1 and LibVEX; rerun with -h for copyright info
==28301== Command: ./A.out
==28301== 
--- 1. constructor with arg
Some other constructor my name is a
--- 2. assignment to new variable
The copy contructor
--- 3. copy construction
The copy contructor
--- 4. uninitialized variable
The default contructor
--- 5. assignment to variable
The assignment operator
--- --------
--- 6. call by value
The copy contructor
--- inside no_ref
The destructor
--- 7. call by reference
--- inside with_ref
--- ---------
--- 8. Allocate vector, put in A*
The default contructor
The default contructor
The default contructor
The default contructor
The default contructor
--- 9. Free A* that points to A[]
The destructor
==28301== Invalid free() / delete / delete[]
==28301==    at 0x4023EAC: operator delete(void*) (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==28301==    by 0x8048B66: main (A.cpp:54)
==28301==  Address 0x42d002c is 4 bytes inside a block of size 9 alloc'd
==28301==    at 0x4024604: operator new[](unsigned int) (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==28301==    by 0x8048ADF: main (A.cpp:51)
==28301== 
--- done!
The destructor
The destructor
The destructor
The destructor
==28301== 
==28301== HEAP SUMMARY:
==28301==     in use at exit: 9 bytes in 1 blocks
==28301==   total heap usage: 1 allocs, 1 frees, 9 bytes allocated
==28301== 
==28301== 9 bytes in 1 blocks are definitely lost in loss record 1 of 1
==28301==    at 0x4024604: operator new[](unsigned int) (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==28301==    by 0x8048ADF: main (A.cpp:51)
==28301== 
==28301== LEAK SUMMARY:
==28301==    definitely lost: 9 bytes in 1 blocks
==28301==    indirectly lost: 0 bytes in 0 blocks
==28301==      possibly lost: 0 bytes in 0 blocks
==28301==    still reachable: 0 bytes in 0 blocks
==28301==         suppressed: 0 bytes in 0 blocks
==28301== 
==28301== For counts of detected and suppressed errors, rerun with: -v
==28301== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 17 from 6)

